(this["webpackJsonptest-project"]=this["webpackJsonptest-project"]||[]).push([[0],{30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);for(var r=n(1),a=n(0),o=n.n(a),c=n(5),i=n.n(c),l=n(6),u=(n(30),n(14)),s=n(15),d=n(18),m=n(17),p=(n(31),"INCREMENT"),h="ADD_STR",j="DEL_STR",b="UPDATE",f="SHOW_CELL",O="PERCENT_CONTRIBUTION",x="CLEAR_SHOW_CELL",v="CLEAR_PERCENT_CONTRIBUTION",C=(n(32),n(9)),S=function(t){var e=t.props,n=t.onShowPerc,a=t.onClearShowPerc,o=e.eachTotal;return Object(r.jsx)("ul",{className:"block-total",children:o.map((function(t,e){return Object(r.jsx)("li",{className:"cell-total",onMouseEnter:n,onMouseLeave:a,"data-id-row":e,children:t},C())}))})},w=(n(41),n(9)),N=function(t){var e=t.props,n=t.onInc,a=t.onMouseEnter,o=t.onClearShowCell,c=e.matrix,i=e.idShowCell,l=e.percCell,u=e.m,s=e.n;return Object(r.jsx)("ul",{className:"matrix",style:{width:96*s+"px",height:96*u+"px"},children:c.map((function(t,e){return t.map((function(t,c){return Object(r.jsxs)("li",{className:"cell "+(i.includes(t.id)?"show":""),onClick:n,onMouseEnter:a,onMouseLeave:o,id:t.id,"data-id-row":e,"data-id-col":c,children:[l.id===e?l.cells[c]+"%":t.amount,Object(r.jsx)("span",{className:"perc-cell",style:{height:(l.id===e?l.cells[c]:0)+"px"}})]},w())}))}))})},y=(n(42),n(9)),E=function(t){var e=t.props.eachMean;return Object(r.jsx)("ul",{className:"block-cell-mean",children:e.map((function(t){return Object(r.jsx)("li",{className:"cell-mean",children:t},y())}))})},M=function(t){Object(d.a)(n,t);var e=Object(m.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.onAddStr,n=t.onDelStr,a=t.onInc,o=t.onShowCell,c=t.onShowPerc,i=t.onClearShowCell,l=t.onClearShowPerc;return Object(r.jsxs)("div",{className:"main-block",children:[Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)(N,{props:this.props.state,onInc:a,onMouseEnter:o,onClearShowCell:i}),Object(r.jsx)(S,{props:this.props.state,onShowPerc:c,onClearShowPerc:l}),Object(r.jsxs)("div",{className:"block-btn",children:[Object(r.jsx)("button",{className:"add-btn btn",onClick:e,children:"add str"}),Object(r.jsx)("button",{className:"del-btn btn",onClick:n,children:"dell str"})]})]}),Object(r.jsx)(E,{props:this.props.state})]})}}]),n}(o.a.Component),T=Object(l.b)((function(t){return{state:t}}),(function(t){return{onInc:function(e){t(function(t){return{type:p,payload:{id:t.target.id}}}(e))},onAddStr:function(){t({type:h,payload:1})},onDelStr:function(e){t({type:j,payload:1})},onUpdate:function(){t({type:b})},onShowCell:function(e){t(function(t){return{type:f,payload:{id:t.target.id,amount:t.target.innerText}}}(e))},onClearShowCell:function(){t({type:x})},onShowPerc:function(e){t(function(t){return{type:O,payload:{item:t.target,amount:t.target.innerText}}}(e))},onClearShowPerc:function(){t({type:v})}}}))(M),g=n(3),k=n(16),I=n(7),P=n(2),R=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},L={idShowCell:[],eachTotal:[],eachMean:[],percCell:[],m:Number(prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a")),n:Number(prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u043e\u043b\u0431\u0438\u043a\u043e\u0432")),x:Number(prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0445 \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e \u044f\u0447\u0435\u0435\u043a ")),matrix:[]},_=0;_<L.m;_++){void 0===L.matrix[_]&&(L.matrix[_]=[]);for(var A=0;A<L.n;A++)L.matrix[_][A]={id:_+""+A,amount:R(100,1e3)}}var D=function(t){t.eachTotal=[];for(var e=0;e<t.matrix.length;e++){var n=0;t.matrix[e].map((function(t){return n+=t.amount})),t.eachTotal.push(n)}};D(L);var U=function(t){t.eachMean=[];for(var e=0;e<t.n;e++){for(var n=0,r=0;r<t.m;r++)n+=t.matrix[r][e].amount;t.eachMean.push(Math.round(n/t.m))}};U(L);var B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case p:var a=r.id,o=t.matrix.find((function(t){return t.find((function(t){return t.id===a}))})),c=o.find((function(t){return t.id===a})),i=o.findIndex((function(t){return t.id===a}));return o[i]=Object(P.a)(Object(P.a)({},c),{},{amount:c.amount+1}),D(t),U(t),Object(P.a)(Object(P.a)({},t),{},{matrix:Object(I.a)(t.matrix)});case h:var l=Object(I.a)(t.matrix);l[t.m]=[];for(var u=0;u<t.n;u++)l[t.m][u]={id:t.m+""+u,amount:R(100,1e3)};var s=Object(P.a)(Object(P.a)({},t),{},{m:t.m+r,matrix:l});return D(s),U(s),s;case j:var d=Object(I.a)(t.matrix);if(1===d.length)return Object(P.a)(Object(P.a)({},t),{},{matrix:d});var m=Object(P.a)(Object(P.a)({},t),{},{m:t.m-r,matrix:d.slice(0,-1)});return D(m),U(m),m;case f:for(var b={},C=0;C<t.m;C++)for(var S=0;S<t.n;S++){var w=C+""+S;if(r.id!==w){var N=t.matrix[C][S].amount>=0?t.matrix[C][S].amount-r.amount:-t.matrix[C][S].amount-r.amount;b[w]=N>=0?N:-N}}var y=Object.keys(b).sort((function(t,e){return b[t]-b[e]}));return Object(P.a)(Object(P.a)({},t),{},{idShowCell:y.slice(0,t.x)});case x:return Object(P.a)(Object(P.a)({},t),{},{idShowCell:[]});case O:for(var E={id:Number(r.item.dataset.idRow),cells:[]},M=0;M<t.n;M++){var T=t.matrix[E.id][M].amount/r.item.innerText*100;E.cells.push(Math.round(T))}return Object(P.a)(Object(P.a)({},t),{},{percCell:E});case v:return Object(P.a)(Object(P.a)({},t),{},{percCell:[]});default:return t}},H=Object(g.createStore)(B,Object(k.devToolsEnhancer)());i.a.render(Object(r.jsx)(l.a,{store:H,children:Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(T,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9e07e41a.chunk.js.map